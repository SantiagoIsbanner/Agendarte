<div class="dashboard-content">
  <div class="welcome-section">
    <div class="welcome-text">
      <h2>Bienvenido{{ usuario() ? ', ' + usuario().nombre : '' }}</h2>
      <p>Sistema de gestiÃ³n de turnos mÃ©dicos</p>
    </div>
    <div class="profile-actions">
      <button class="btn-profile" (click)="editarPerfil()">
        <span>âœï¸</span> Editar Perfil
      </button>
      <button class="btn-profile" (click)="cambiarContrasena()">
        <span>ğŸ”’</span> Cambiar ContraseÃ±a
      </button>
    </div>
  </div>
  
  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-icon">ğŸ“…</div>
      <h3>Citas Hoy</h3>
      @if (isLoadingStats()) {
        <span class="stat-number loading">â‹¯</span>
      } @else {
        <span class="stat-number">{{ citasHoy() }}</span>
      }
    </div>
    <div class="stat-card">
      <div class="stat-icon">ğŸ‘¨âš•ï¸</div>
      <h3>Profesionales</h3>
      @if (isLoadingStats()) {
        <span class="stat-number loading">â‹¯</span>
      } @else {
        <span class="stat-number">{{ totalProfesionales() }}</span>
      }
    </div>
    <div class="stat-card">
      <div class="stat-icon">ğŸ‘¥</div>
      <h3>Pacientes</h3>
      @if (isLoadingStats()) {
        <span class="stat-number loading">â‹¯</span>
      } @else {
        <span class="stat-number">{{ totalPacientes() }}</span>
      }
    </div>
  </div>
</div>

<!-- Modal Cambiar ContraseÃ±a -->
@if (showPasswordModal) {
  <div class="modal-overlay" (click)="cerrarModal()">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <div class="modal-header">
        <h3>ğŸ”’ Cambiar ContraseÃ±a</h3>
        <button class="close-btn" (click)="cerrarModal()">Ã—</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label>ContraseÃ±a Actual *</label>
          <input type="password" [(ngModel)]="passwordData.actual" placeholder="Ingresa tu contraseÃ±a actual" required>
        </div>
        <div class="form-group">
          <label>Nueva ContraseÃ±a *</label>
          <input type="password" [(ngModel)]="passwordData.nueva" placeholder="MÃ­nimo 6 caracteres" required>
        </div>
        <div class="form-group">
          <label>Confirmar Nueva ContraseÃ±a *</label>
          <input type="password" [(ngModel)]="passwordData.confirmar" placeholder="Repite la nueva contraseÃ±a" required>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn-cancel" (click)="cerrarModal()">Cancelar</button>
        <button class="btn-save" (click)="guardarNuevaContrasena()">ğŸ’¾ Guardar</button>
      </div>
    </div>
  </div>
}